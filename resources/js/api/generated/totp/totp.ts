/**
 * Generated by orval v8.0.2 ðŸº
 * Do not edit manually.
 * Berth API
 * Berth: Opinionated docker compose stack management API
 * OpenAPI spec version: 1.0.0
 */
import { useMutation, useQuery } from '@tanstack/react-query';
import type {
  DataTag,
  DefinedInitialDataOptions,
  DefinedUseQueryResult,
  MutationFunction,
  QueryClient,
  QueryFunction,
  QueryKey,
  UndefinedInitialDataOptions,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult,
} from '@tanstack/react-query';

import type {
  GetApiV1TotpSetup200,
  GetApiV1TotpSetup401,
  GetApiV1TotpSetup409,
  GetApiV1TotpSetup500,
  GetApiV1TotpStatus200,
  GetApiV1TotpStatus401,
  GetApiV1TotpStatus500,
  PostApiV1TotpDisable200,
  PostApiV1TotpDisable400,
  PostApiV1TotpDisable401,
  PostApiV1TotpDisable500,
  PostApiV1TotpDisableBody,
  PostApiV1TotpEnable200,
  PostApiV1TotpEnable400,
  PostApiV1TotpEnable401,
  PostApiV1TotpEnable500,
  PostApiV1TotpEnableBody,
} from '.././models';

import { apiClient } from '../../../lib/api';

/**
 * Disables two-factor authentication. Requires both the current TOTP code and password for security.
 * @summary Disable TOTP
 */
export const postApiV1TotpDisable = (
  postApiV1TotpDisableBody: PostApiV1TotpDisableBody,
  signal?: AbortSignal
) => {
  return apiClient<PostApiV1TotpDisable200>({
    url: `/api/v1/totp/disable`,
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    data: postApiV1TotpDisableBody,
    signal,
  });
};

export const getPostApiV1TotpDisableMutationOptions = <
  TError = PostApiV1TotpDisable400 | PostApiV1TotpDisable401 | PostApiV1TotpDisable500 | void,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof postApiV1TotpDisable>>,
    TError,
    { data: PostApiV1TotpDisableBody },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof postApiV1TotpDisable>>,
  TError,
  { data: PostApiV1TotpDisableBody },
  TContext
> => {
  const mutationKey = ['postApiV1TotpDisable'];
  const { mutation: mutationOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } };

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof postApiV1TotpDisable>>,
    { data: PostApiV1TotpDisableBody }
  > = (props) => {
    const { data } = props ?? {};

    return postApiV1TotpDisable(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type PostApiV1TotpDisableMutationResult = NonNullable<
  Awaited<ReturnType<typeof postApiV1TotpDisable>>
>;
export type PostApiV1TotpDisableMutationBody = PostApiV1TotpDisableBody;
export type PostApiV1TotpDisableMutationError =
  | PostApiV1TotpDisable400
  | PostApiV1TotpDisable401
  | PostApiV1TotpDisable500
  | void;

/**
 * @summary Disable TOTP
 */
export const usePostApiV1TotpDisable = <
  TError = PostApiV1TotpDisable400 | PostApiV1TotpDisable401 | PostApiV1TotpDisable500 | void,
  TContext = unknown,
>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof postApiV1TotpDisable>>,
      TError,
      { data: PostApiV1TotpDisableBody },
      TContext
    >;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<ReturnType<typeof postApiV1TotpDisable>>,
  TError,
  { data: PostApiV1TotpDisableBody },
  TContext
> => {
  return useMutation(getPostApiV1TotpDisableMutationOptions(options), queryClient);
};
/**
 * Enables two-factor authentication after verifying the TOTP code from the authenticator app.
 * @summary Enable TOTP
 */
export const postApiV1TotpEnable = (
  postApiV1TotpEnableBody: PostApiV1TotpEnableBody,
  signal?: AbortSignal
) => {
  return apiClient<PostApiV1TotpEnable200>({
    url: `/api/v1/totp/enable`,
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    data: postApiV1TotpEnableBody,
    signal,
  });
};

export const getPostApiV1TotpEnableMutationOptions = <
  TError = PostApiV1TotpEnable400 | PostApiV1TotpEnable401 | PostApiV1TotpEnable500 | void,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof postApiV1TotpEnable>>,
    TError,
    { data: PostApiV1TotpEnableBody },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof postApiV1TotpEnable>>,
  TError,
  { data: PostApiV1TotpEnableBody },
  TContext
> => {
  const mutationKey = ['postApiV1TotpEnable'];
  const { mutation: mutationOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } };

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof postApiV1TotpEnable>>,
    { data: PostApiV1TotpEnableBody }
  > = (props) => {
    const { data } = props ?? {};

    return postApiV1TotpEnable(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type PostApiV1TotpEnableMutationResult = NonNullable<
  Awaited<ReturnType<typeof postApiV1TotpEnable>>
>;
export type PostApiV1TotpEnableMutationBody = PostApiV1TotpEnableBody;
export type PostApiV1TotpEnableMutationError =
  | PostApiV1TotpEnable400
  | PostApiV1TotpEnable401
  | PostApiV1TotpEnable500
  | void;

/**
 * @summary Enable TOTP
 */
export const usePostApiV1TotpEnable = <
  TError = PostApiV1TotpEnable400 | PostApiV1TotpEnable401 | PostApiV1TotpEnable500 | void,
  TContext = unknown,
>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof postApiV1TotpEnable>>,
      TError,
      { data: PostApiV1TotpEnableBody },
      TContext
    >;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<ReturnType<typeof postApiV1TotpEnable>>,
  TError,
  { data: PostApiV1TotpEnableBody },
  TContext
> => {
  return useMutation(getPostApiV1TotpEnableMutationOptions(options), queryClient);
};
/**
 * Returns the QR code URI and secret for setting up two-factor authentication. Only available if TOTP is not already enabled.
 * @summary Get TOTP setup information
 */
export const getApiV1TotpSetup = (signal?: AbortSignal) => {
  return apiClient<GetApiV1TotpSetup200>({ url: `/api/v1/totp/setup`, method: 'GET', signal });
};

export const getGetApiV1TotpSetupQueryKey = () => {
  return [`/api/v1/totp/setup`] as const;
};

export const getGetApiV1TotpSetupQueryOptions = <
  TData = Awaited<ReturnType<typeof getApiV1TotpSetup>>,
  TError = GetApiV1TotpSetup401 | GetApiV1TotpSetup409 | GetApiV1TotpSetup500 | void,
>(options?: {
  query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpSetup>>, TError, TData>>;
}) => {
  const { query: queryOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getGetApiV1TotpSetupQueryKey();

  const queryFn: QueryFunction<Awaited<ReturnType<typeof getApiV1TotpSetup>>> = ({ signal }) =>
    getApiV1TotpSetup(signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof getApiV1TotpSetup>>,
    TError,
    TData
  > & { queryKey: DataTag<QueryKey, TData, TError> };
};

export type GetApiV1TotpSetupQueryResult = NonNullable<
  Awaited<ReturnType<typeof getApiV1TotpSetup>>
>;
export type GetApiV1TotpSetupQueryError =
  | GetApiV1TotpSetup401
  | GetApiV1TotpSetup409
  | GetApiV1TotpSetup500
  | void;

export function useGetApiV1TotpSetup<
  TData = Awaited<ReturnType<typeof getApiV1TotpSetup>>,
  TError = GetApiV1TotpSetup401 | GetApiV1TotpSetup409 | GetApiV1TotpSetup500 | void,
>(
  options: {
    query: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpSetup>>, TError, TData>> &
      Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof getApiV1TotpSetup>>,
          TError,
          Awaited<ReturnType<typeof getApiV1TotpSetup>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient
): DefinedUseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
export function useGetApiV1TotpSetup<
  TData = Awaited<ReturnType<typeof getApiV1TotpSetup>>,
  TError = GetApiV1TotpSetup401 | GetApiV1TotpSetup409 | GetApiV1TotpSetup500 | void,
>(
  options?: {
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpSetup>>, TError, TData>> &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof getApiV1TotpSetup>>,
          TError,
          Awaited<ReturnType<typeof getApiV1TotpSetup>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
export function useGetApiV1TotpSetup<
  TData = Awaited<ReturnType<typeof getApiV1TotpSetup>>,
  TError = GetApiV1TotpSetup401 | GetApiV1TotpSetup409 | GetApiV1TotpSetup500 | void,
>(
  options?: {
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpSetup>>, TError, TData>>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
/**
 * @summary Get TOTP setup information
 */

export function useGetApiV1TotpSetup<
  TData = Awaited<ReturnType<typeof getApiV1TotpSetup>>,
  TError = GetApiV1TotpSetup401 | GetApiV1TotpSetup409 | GetApiV1TotpSetup500 | void,
>(
  options?: {
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpSetup>>, TError, TData>>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {
  const queryOptions = getGetApiV1TotpSetupQueryOptions(options);

  const query = useQuery(queryOptions, queryClient) as UseQueryResult<TData, TError> & {
    queryKey: DataTag<QueryKey, TData, TError>;
  };

  return { ...query, queryKey: queryOptions.queryKey };
}

/**
 * Returns whether two-factor authentication is enabled for the authenticated user.
 * @summary Get TOTP status
 */
export const getApiV1TotpStatus = (signal?: AbortSignal) => {
  return apiClient<GetApiV1TotpStatus200>({ url: `/api/v1/totp/status`, method: 'GET', signal });
};

export const getGetApiV1TotpStatusQueryKey = () => {
  return [`/api/v1/totp/status`] as const;
};

export const getGetApiV1TotpStatusQueryOptions = <
  TData = Awaited<ReturnType<typeof getApiV1TotpStatus>>,
  TError = GetApiV1TotpStatus401 | GetApiV1TotpStatus500 | void,
>(options?: {
  query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpStatus>>, TError, TData>>;
}) => {
  const { query: queryOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getGetApiV1TotpStatusQueryKey();

  const queryFn: QueryFunction<Awaited<ReturnType<typeof getApiV1TotpStatus>>> = ({ signal }) =>
    getApiV1TotpStatus(signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof getApiV1TotpStatus>>,
    TError,
    TData
  > & { queryKey: DataTag<QueryKey, TData, TError> };
};

export type GetApiV1TotpStatusQueryResult = NonNullable<
  Awaited<ReturnType<typeof getApiV1TotpStatus>>
>;
export type GetApiV1TotpStatusQueryError = GetApiV1TotpStatus401 | GetApiV1TotpStatus500 | void;

export function useGetApiV1TotpStatus<
  TData = Awaited<ReturnType<typeof getApiV1TotpStatus>>,
  TError = GetApiV1TotpStatus401 | GetApiV1TotpStatus500 | void,
>(
  options: {
    query: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpStatus>>, TError, TData>> &
      Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof getApiV1TotpStatus>>,
          TError,
          Awaited<ReturnType<typeof getApiV1TotpStatus>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient
): DefinedUseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
export function useGetApiV1TotpStatus<
  TData = Awaited<ReturnType<typeof getApiV1TotpStatus>>,
  TError = GetApiV1TotpStatus401 | GetApiV1TotpStatus500 | void,
>(
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpStatus>>, TError, TData>
    > &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof getApiV1TotpStatus>>,
          TError,
          Awaited<ReturnType<typeof getApiV1TotpStatus>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
export function useGetApiV1TotpStatus<
  TData = Awaited<ReturnType<typeof getApiV1TotpStatus>>,
  TError = GetApiV1TotpStatus401 | GetApiV1TotpStatus500 | void,
>(
  options?: {
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpStatus>>, TError, TData>>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
/**
 * @summary Get TOTP status
 */

export function useGetApiV1TotpStatus<
  TData = Awaited<ReturnType<typeof getApiV1TotpStatus>>,
  TError = GetApiV1TotpStatus401 | GetApiV1TotpStatus500 | void,
>(
  options?: {
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiV1TotpStatus>>, TError, TData>>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {
  const queryOptions = getGetApiV1TotpStatusQueryOptions(options);

  const query = useQuery(queryOptions, queryClient) as UseQueryResult<TData, TError> & {
    queryKey: DataTag<QueryKey, TData, TError>;
  };

  return { ...query, queryKey: queryOptions.queryKey };
}
