/**
 * Generated by orval v8.0.2 ðŸº
 * Do not edit manually.
 * Berth API
 * Berth: Opinionated docker compose stack management API
 * OpenAPI spec version: 1.0.0
 */
import { useMutation } from '@tanstack/react-query';
import type {
  MutationFunction,
  QueryClient,
  UseMutationOptions,
  UseMutationResult,
} from '@tanstack/react-query';

import type {
  PostApiV1SessionsRevoke200,
  PostApiV1SessionsRevoke400,
  PostApiV1SessionsRevoke401,
  PostApiV1SessionsRevoke500,
  PostApiV1SessionsRevokeAllOthers200,
  PostApiV1SessionsRevokeAllOthers400,
  PostApiV1SessionsRevokeAllOthers401,
  PostApiV1SessionsRevokeAllOthers500,
  PostApiV1SessionsRevokeAllOthersBody,
  PostApiV1SessionsRevokeBody,
} from '.././models';

import { apiClient } from '../../../lib/api';

/**
 * Revokes a specific session by ID. The user will be logged out from that device.
 * @summary Revoke a session
 */
export const postApiV1SessionsRevoke = (
  postApiV1SessionsRevokeBody: PostApiV1SessionsRevokeBody,
  signal?: AbortSignal
) => {
  return apiClient<PostApiV1SessionsRevoke200>({
    url: `/api/v1/sessions/revoke`,
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    data: postApiV1SessionsRevokeBody,
    signal,
  });
};

export const getPostApiV1SessionsRevokeMutationOptions = <
  TError =
    | PostApiV1SessionsRevoke400
    | PostApiV1SessionsRevoke401
    | PostApiV1SessionsRevoke500
    | void,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof postApiV1SessionsRevoke>>,
    TError,
    { data: PostApiV1SessionsRevokeBody },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof postApiV1SessionsRevoke>>,
  TError,
  { data: PostApiV1SessionsRevokeBody },
  TContext
> => {
  const mutationKey = ['postApiV1SessionsRevoke'];
  const { mutation: mutationOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } };

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof postApiV1SessionsRevoke>>,
    { data: PostApiV1SessionsRevokeBody }
  > = (props) => {
    const { data } = props ?? {};

    return postApiV1SessionsRevoke(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type PostApiV1SessionsRevokeMutationResult = NonNullable<
  Awaited<ReturnType<typeof postApiV1SessionsRevoke>>
>;
export type PostApiV1SessionsRevokeMutationBody = PostApiV1SessionsRevokeBody;
export type PostApiV1SessionsRevokeMutationError =
  | PostApiV1SessionsRevoke400
  | PostApiV1SessionsRevoke401
  | PostApiV1SessionsRevoke500
  | void;

/**
 * @summary Revoke a session
 */
export const usePostApiV1SessionsRevoke = <
  TError =
    | PostApiV1SessionsRevoke400
    | PostApiV1SessionsRevoke401
    | PostApiV1SessionsRevoke500
    | void,
  TContext = unknown,
>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof postApiV1SessionsRevoke>>,
      TError,
      { data: PostApiV1SessionsRevokeBody },
      TContext
    >;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<ReturnType<typeof postApiV1SessionsRevoke>>,
  TError,
  { data: PostApiV1SessionsRevokeBody },
  TContext
> => {
  return useMutation(getPostApiV1SessionsRevokeMutationOptions(options), queryClient);
};
/**
 * Revokes all sessions except the current one. For JWT authentication, the refresh token must be provided in the request body.
 * @summary Revoke all other sessions
 */
export const postApiV1SessionsRevokeAllOthers = (
  postApiV1SessionsRevokeAllOthersBody: PostApiV1SessionsRevokeAllOthersBody,
  signal?: AbortSignal
) => {
  return apiClient<PostApiV1SessionsRevokeAllOthers200>({
    url: `/api/v1/sessions/revoke-all-others`,
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    data: postApiV1SessionsRevokeAllOthersBody,
    signal,
  });
};

export const getPostApiV1SessionsRevokeAllOthersMutationOptions = <
  TError =
    | PostApiV1SessionsRevokeAllOthers400
    | PostApiV1SessionsRevokeAllOthers401
    | PostApiV1SessionsRevokeAllOthers500
    | void,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof postApiV1SessionsRevokeAllOthers>>,
    TError,
    { data: PostApiV1SessionsRevokeAllOthersBody },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof postApiV1SessionsRevokeAllOthers>>,
  TError,
  { data: PostApiV1SessionsRevokeAllOthersBody },
  TContext
> => {
  const mutationKey = ['postApiV1SessionsRevokeAllOthers'];
  const { mutation: mutationOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } };

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof postApiV1SessionsRevokeAllOthers>>,
    { data: PostApiV1SessionsRevokeAllOthersBody }
  > = (props) => {
    const { data } = props ?? {};

    return postApiV1SessionsRevokeAllOthers(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type PostApiV1SessionsRevokeAllOthersMutationResult = NonNullable<
  Awaited<ReturnType<typeof postApiV1SessionsRevokeAllOthers>>
>;
export type PostApiV1SessionsRevokeAllOthersMutationBody = PostApiV1SessionsRevokeAllOthersBody;
export type PostApiV1SessionsRevokeAllOthersMutationError =
  | PostApiV1SessionsRevokeAllOthers400
  | PostApiV1SessionsRevokeAllOthers401
  | PostApiV1SessionsRevokeAllOthers500
  | void;

/**
 * @summary Revoke all other sessions
 */
export const usePostApiV1SessionsRevokeAllOthers = <
  TError =
    | PostApiV1SessionsRevokeAllOthers400
    | PostApiV1SessionsRevokeAllOthers401
    | PostApiV1SessionsRevokeAllOthers500
    | void,
  TContext = unknown,
>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof postApiV1SessionsRevokeAllOthers>>,
      TError,
      { data: PostApiV1SessionsRevokeAllOthersBody },
      TContext
    >;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<ReturnType<typeof postApiV1SessionsRevokeAllOthers>>,
  TError,
  { data: PostApiV1SessionsRevokeAllOthersBody },
  TContext
> => {
  return useMutation(getPostApiV1SessionsRevokeAllOthersMutationOptions(options), queryClient);
};
