SERVER_HOST=localhost
SERVER_PORT=8080

# Logging Configuration
# Log level: debug, info, warn, error
LOG_LEVEL=info
# Output format: console (human-readable) or json (structured)
LOG_FORMAT=console
# Output destination: stdout or file path (e.g., /var/log/app.log)
LOG_OUTPUT=stdout

# Database Configuration
DATABASE_DRIVER=sqlite
DATABASE_DSN=app.db
DATABASE_AUTO_MIGRATE=true

INERTIA_ENABLED=true
INERTIA_ROOT_VIEW=app.html
INERTIA_VERSION=1.0
INERTIA_SSR_ENABLED=false
INERTIA_DEVELOPMENT=false

# Session Configuration
SESSION_ENABLED=true
SESSION_STORE=database
SESSION_NAME=berth
SESSION_MAX_AGE=24h
SESSION_SECURE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# Authentication Configuration
AUTH_MIN_LENGTH=8
AUTH_REQUIRE_UPPER=true
AUTH_REQUIRE_LOWER=true
AUTH_REQUIRE_NUMBER=true
AUTH_REQUIRE_SPECIAL=false
AUTH_BCRYPT_COST=10

# Email Verification Configuration
AUTH_EMAIL_VERIFICATION_ENABLED=false
AUTH_EMAIL_VERIFICATION_TOKEN_LENGTH=32
AUTH_EMAIL_VERIFICATION_EXPIRY=24h

# Remember Me Configuration
AUTH_REMEMBER_ME_ENABLED=false
AUTH_REMEMBER_ME_TOKEN_LENGTH=32
AUTH_REMEMBER_ME_EXPIRY=720h
# PRODUCTION: Set to true when using HTTPS
AUTH_REMEMBER_ME_COOKIE_SECURE=false
# PRODUCTION: Use 'strict' for better security
AUTH_REMEMBER_ME_COOKIE_SAME_SITE=lax
# Rotate tokens on each use for better security
AUTH_REMEMBER_ME_ROTATE_ON_USE=true

# Password Reset Configuration  
AUTH_PASSWORD_RESET_ENABLED=true
AUTH_PASSWORD_RESET_TOKEN_LENGTH=32
AUTH_PASSWORD_RESET_EXPIRY=1h

# TOTP Configuration
TOTP_ENABLED=true
TOTP_ISSUER=Berth Application

# JWT Configuration (for mobile API authentication)
JWT_SECRET_KEY=your-secure-256-bit-key-here-min-32-characters-required
JWT_ACCESS_EXPIRY=15m
JWT_ISSUER=Berth Application
JWT_ALGORITHM=HS256

# Refresh Token Configuration (secure random strings)
REFRESH_TOKEN_TOKEN_LENGTH=32
REFRESH_TOKEN_EXPIRY=720h
REFRESH_TOKEN_ROTATION_MODE=always
REFRESH_TOKEN_CLEANUP_INTERVAL=1h

# JWT Revocation Configuration (for secure token invalidation)
JWT_REVOCATION_ENABLED=true
JWT_REVOCATION_STORE=memory
JWT_REVOCATION_CLEANUP_PERIOD=1h

# Rate Limiting Configuration
RATELIMIT_STORE=memory

# CSRF Configuration
CSRF_ENABLED=true
CSRF_TOKEN_LENGTH=32
CSRF_TOKEN_LOOKUP=header:X-CSRF-Token
CSRF_COOKIE_NAME=_csrf
CSRF_COOKIE_PATH=/
CSRF_COOKIE_MAX_AGE=86400
CSRF_COOKIE_SECURE=false
CSRF_COOKIE_HTTP_ONLY=false
CSRF_COOKIE_SAME_SITE=lax

# Mail Configuration (Optional)
# Uncomment and configure these to enable email functionality
# MAIL_HOST=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-app-password
# MAIL_FROM_ADDRESS=noreply@yourapp.com
# MAIL_FROM_NAME=Berth Application
# MAIL_ENCRYPTION=tls
# MAIL_TEMPLATES_DIR=templates/mail

# Common Email Provider Examples:
# Gmail: smtp.gmail.com:587 (use App Passwords)
# Outlook: smtp-mail.outlook.com:587
# Yahoo: smtp.mail.yahoo.com:587 (use App Passwords)
# SendGrid: smtp.sendgrid.net:587 (username=apikey)

# Server Configuration (Trusted Proxies)
# SECURITY: Only configure if using reverse proxy (nginx, load balancer, etc.)
# Use SPECIFIC IP addresses or small CIDR ranges - NOT broad networks!
# Leave empty for direct connections (most secure for single-server deployments)
# 
# SECURE examples:
# SERVER_TRUSTED_PROXIES=192.168.1.100/32        # Single proxy server
# SERVER_TRUSTED_PROXIES=10.0.0.10/32,10.0.0.11/32  # Multiple specific IPs
# SERVER_TRUSTED_PROXIES=172.16.1.0/28           # Small subnet (16 IPs max)
#
# INSECURE examples (DO NOT USE):
# SERVER_TRUSTED_PROXIES=10.0.0.0/8              # Entire private network

# Berth Custom Configuration
# REQUIRED: Set a strong encryption secret for database token encryption
# SECURITY: Must be at least 16 characters, recommended 32+ characters
# Generate with: openssl rand -base64 32
# Application will not start without this being set
ENCRYPTION_SECRET=
